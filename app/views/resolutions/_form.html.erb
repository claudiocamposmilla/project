<%= form_with(model: resolution) do |form| %>

  <div>
    <% if can? :update, @resolution %>
      <div class="field">
       <h3> <%= form.label :resolved %>
        <% options = Resolution.resolveds.keys.map(&:to_s) %>
      </h3>
    <div class="form-group">
      <%= form.select :resolved, options_for_select(options, @resolution.resolved), {}, class: "form-control" %>
    </div>      </div>
    <% end %>
  </div>

  <% if current_user.normal? %>
<br>
  <label class="rating-label">
    <div class="rating-container">

    <p>
    <strong>Evaluation: </strong>   
    <h2 style="margin-left: 10px;" id="rating-value" class="rating-value"> <%= resolution.evaluation %></h2>
    

    <%= form.range_field :evaluation, min: 1, max: 5, step: 1, class: 'rating', style: '--stars: 6;', oninput:"updateRatingValue(this.value)" %>
  </label>
</p>
</div>


    

    <div>
      <%= form.label :user_body, style: "display: block" %>
      <%= form.text_field :user_body , class: 'form-control'%>
    </div>


  <% end %>

<br>
<div class="d-grid gap-1 col-12 ">
  <button type="submit" class="btn btn-primary">Submit</button>
</div>

<% end %>
<script>
  function updateRatingValue(value) {
    document.getElementById('rating-value').innerText = value;
  }
</script>
